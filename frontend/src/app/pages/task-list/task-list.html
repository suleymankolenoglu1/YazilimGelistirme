<div class="task-list-header">
  <h2>GÃ¶rev Listem</h2>
  <!-- FÄ°LTRELER -->
  <div class="filters-wrapper">
    <!-- KATEGORÄ° FÄ°LTRESÄ° -->
    <div class="filter-container">
      <label for="category-filter">Kategori:</label>
      <select
        id="category-filter"
        [(ngModel)]="selectedCategory"
        (change)="onFilterChange()"
        name="categoryFilter"
      >
        <option *ngFor="let category of categories" [value]="category">
          {{ category === 'all' ? 'TÃ¼mÃ¼' : category }}
        </option>
      </select>
    </div>
    <!-- DURUM FÄ°LTRESÄ° -->
    <div class="filter-container">
      <label for="status-filter">Durum:</label>
      <select
        id="status-filter"
        [(ngModel)]="selectedStatus"
        (change)="onFilterChange()"
        name="statusFilter"
      >
        <option value="all">TÃ¼mÃ¼</option>
        <option value="completed">Tamamlananlar</option>
        <option value="pending">Bekleyenler</option>
        <option value="overdue">Gecikenler</option>
      </select>
    </div>
  </div>
</div>
<!--gÃ¶rev kÄ±smÄ±-->
<ul class="task-list-container">
  <li
    *ngFor="let task of filteredTasks"
    [ngClass]="getTaskColorClass(task)"
  >
    <div class="task-info">
      <strong>{{ task.title }}</strong>
      <span>(Kategori: {{ task.category }})</span>
      <!-- Dosya eki varsa gÃ¶ster -->
      <a *ngIf="getAttachmentCount(task.id) > 0" 
         [routerLink]="['/edit', task.id]" 
         class="attachment-link" 
         title="DosyalarÄ± gÃ¶rÃ¼ntÃ¼le">
        ğŸ“
      </a>
      <p>{{ task.description }}</p>
      <small class="task-date">{{ task.dueDate | date:'dd.MM.yyyy' }} - {{ task.dueTime | slice:0:5 }}</small>
    </div>

    <!-- SaÄŸ taraf: Eylemler -->
    <div class="task-actions">
      <input
        type="checkbox"
        class="task-list-checkbox"
        [checked]="task.status === 'completed'"
        [disabled]="isOverdue(task)"
        (change)="onToggleStatus(task)"
        title="GÃ¶revi tamamlandÄ± olarak iÅŸaretle"
      />
      <a [routerLink]="['/edit', task.id]" class="edit-btn">DÃ¼zenle</a>
      <button (click)="onDelete(task.id)" class="delete-btn">Sil</button>
    </div>
  </li>
</ul>

<div *ngIf="filteredTasks.length === 0" class="no-tasks-message">
  <h3>Bu filtrede gÃ¶sterilecek gÃ¶rev bulunamadÄ±.</h3>
  <p>"TÃ¼mÃ¼" kategorisini seÃ§meyi deneyin.</p>
</div>
