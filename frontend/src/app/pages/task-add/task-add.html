<div class="form-container">
  <h2>{{ isEditMode ? 'GÃ¶revi DÃ¼zenle' : 'Yeni GÃ¶rev Ekle' }}</h2>

  <form #taskForm="ngForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="title">GÃ¶rev BaÅŸlÄ±ÄŸÄ±:</label>
      <input type="text" id="title" name="title" [(ngModel)]="task.title" required />
    </div>

    <div class="form-group">
      <label for="description">AÃ§Ä±klama:</label>
      <textarea id="description" name="description" [(ngModel)]="task.description" rows="4"></textarea>
    </div>

    <div class="form-group">
      <label for="category">Kategori:</label>
      <input type="text" id="category" name="category" [(ngModel)]="task.category" />
    </div>

    <div class="form-group">
      <label for="dueDate">Teslim Tarihi:</label>
      <input type="date" id="dueDate" name="dueDate" [(ngModel)]="task.dueDate" />
    </div>

    <div class="form-group">
      <label for="dueTime">Teslim Saati:</label>
      <input type="time" id="dueTime" name="dueTime" [(ngModel)]="task.dueTime" />
    </div>

    <!-- Mevcut dosyalar (Edit modda) -->
    <div *ngIf="isEditMode && attachments.length > 0" class="attachments-list">
      <label>ğŸ“ Mevcut Dosyalar:</label>
      <div *ngFor="let att of attachments" class="attachment-item">
        <button type="button" class="download-file-btn" (click)="onDownloadAttachment(att)">
          ğŸ“„ {{ att.originalFileName }}
        </button>
        <span class="file-size">({{ att.fileSizeFormatted }})</span>
        <button type="button" class="delete-file-btn" (click)="onDeleteAttachment(att.id)">ğŸ—‘ï¸</button>
      </div>
    </div>

    <!-- YENÄ° DOSYA EKLEME -->
    <div class="form-group">
      <label for="file">{{ isEditMode ? 'ğŸ“ Yeni Dosya Ekle:' : 'ğŸ“ Dosya Ekle:' }}</label>
      <div class="file-input-wrapper">
        <input type="file" id="file" name="file" (change)="onFileSelect($event)" 
               accept=".pdf,.png,.jpg,.jpeg,.docx,.xlsx" />
        <small class="file-hint">(PDF, PNG, JPG, DOCX, XLSX - Max 10MB)</small>
      </div>
      <div *ngIf="selectedFile" class="selected-file-info">
        âœ… {{ selectedFile.name }} ({{ (selectedFile.size / 1024 / 1024).toFixed(2) }} MB)
      </div>
    </div>

    <button type="submit">{{ isEditMode ? 'GÃ¶revi GÃ¼ncelle' : 'GÃ¶revi Kaydet' }}</button>
  </form>
</div>
